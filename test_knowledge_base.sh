#!/bin/bash
# Тестирование базы знаний

echo "=========================================="
echo "ТЕСТИРОВАНИЕ KNOWLEDGE_BASE_COMPLETE.md"
echo "=========================================="

KB="KNOWLEDGE_BASE_COMPLETE.md"

echo -e "\n1️⃣ Поиск информации о монтаже:"
grep -A 5 "Монтаж подшипника" "$KB" | head -10

echo -e "\n2️⃣ Поиск стандарта ГОСТ 520:"
grep -n "ГОСТ 520" "$KB" | head -3

echo -e "\n3️⃣ Поиск информации о производителе SKF:"
grep -c "SKF" "$KB"
echo "упоминаний найдено"

echo -e "\n4️⃣ Проверка наличия таблиц размеров:"
grep -c "| d |" "$KB"
echo "таблиц с размерами найдено"

echo -e "\n5️⃣ Поиск информации об ошибках:"
grep -A 3 "Усталостное выкрашивание" "$KB"

echo -e "\n6️⃣ Проверка ссылок на источники:"
grep -o '`[^`]*\.md`' "$KB" | wc -l
echo "ссылок на источники"

echo -e "\n7️⃣ Размер и строки:"
ls -lh "$KB" | awk '{print "Размер:", $5}'
wc -l "$KB" | awk '{print "Строк:", $1}'

echo -e "\n=========================================="
echo "✅ ТЕСТИРОВАНИЕ ЗАВЕРШЕНО"
echo "=========================================="
